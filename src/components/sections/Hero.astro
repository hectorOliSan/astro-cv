---
import Section from "@/components/Section.astro";

import { basics } from "@cv";

const { name, label, image, location, birthDate } = basics;
const { address } = location;
---

<Section>
  <div
    class="flex flex-col md:flex-row print:flex-row justify-between items-center gap-4 md:gap-8 print:gap-8"
  >
    <figure>
      <img
        src={image}
        alt={name}
        class="aspect-square object-cover w-[180px] md:w-[250px] rounded-full"
      />
    </figure>

    <div class="flex flex-col gap-2 text-center md:text-start print:text-start">
      <main>
        <h1 class="text-xl md:text-2xl text-black font-extrabold">{name}</h1>
        <h2 class="text text-balance text-gray-800">{label}</h2>
      </main>

      <footer
        class="flex flex-col gap-1 md:flex-row print:flex-row items-center justify-between"
      >
        <span
          id="address"
          class="inline-flex items-center gap-1 text-sm hover:cursor-pointer"
        >
          <i class="ti ti-world"></i>
          {address}
        </span>

        <span
          id="birthDate"
          class="inline-flex items-center gap-1 text-sm hover:cursor-pointer"
        >
          <i class="ti ti-cake"></i>
          {birthDate}
        </span>
      </footer>
    </div>
  </div>

  <hr class="mt-4 text-gray-200" />
</Section>

<script>
  import JSConfetti from "js-confetti";
  const jsConfetti = new JSConfetti();

  document.getElementById("address")?.addEventListener("click", () => {
    jsConfetti.addConfetti({
      emojis: ["🇮🇨", "🏝️", "☀️", "🌋", "🌅", "🏖️"],
      emojiSize: 30,
    });
  });
  document.getElementById("birthDate")?.addEventListener("click", () => {
    jsConfetti.addConfetti();
  });
</script>
